{
  "priority": 8,
  "request": {
    "method": "PATCH",
    "urlPathPattern": "/((reqcb\/)?)service-order-service-inventory/v1/connectivityTestProcessInstance",
    "headers": {
      "X-Callback-Correlation-Id": {
        "matches": "[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}"
      }
    },
    "bodyPatterns": [
      {
        "matchesJsonPath": "$[?(@.serialNumber =~ /[A-F0-9]{16}/)]"
      },
      {
        "matchesJsonPath": "$[?(@.homeId =~ /[A-Z0-9]{7}/)]"
      }
    ]
  },
  "response": {
    "status": 202,
    "statusMessage": "Async response. Reservation request is accepted."
  },
  "postServeActions": {
    "webhook": {
      "method": "POST",
      "headers": {
        "Content-Type": "application/json",
        "X-Callback-Correlation-Id": "{{request.headers.X-Callback-Correlation-Id}}"
      },
      "jsonBody": {
        "response": {
          "ontState": "ONLINE",
          "attenuationMeasurementDto": {
            "transmittedPowerAtOltToAllOnus": 0,
            "receivedPowerAtOltFromRequestedOnu": 0,
            "transmittedPowerOnu": 0,
            "receivedPowerOnu": 0
          },
          "attenuationMeasurementSupported": "SUPPORTED",
          "portAddress": {
            "portNumber": "1",
            "slotNumber": "1",
            "endSz": "1",
            "onuId": 0,
            "serialNumber": "{{request.query.serialNumber}}",
            "timestamp": "2018-08-21T17:32:28.0000000+00:00",
            "eventMessage": "stringEventMessage"
          },
          "timestamp": "2018-08-21T17:32:28.0000000+00:00"
        },
        "success": true
      },
      "url": "{{request.headers.X-Callback-Url}}"
    }
  }
}